---
title: Vim 使用技巧
date: 2017/8/9 12:00:00
updated: 2017/8/9 12:00:00
categories:
- devtools
tags:
- vim
---

## 基本移动操作

命令|作用
--|--
`h` `l` `j` `k` | 字符的左右上下移动
`b` `w` | 词的左右移动
`ge` `e` |
`{` `}` | 移动到上一个、下一个段落的开头
`(` `)` | 移动到上一个、下一个句子的开头
`0` `gm` | 当前行的开头、结尾
`^` `$` | 当前行的第一个、最后一个字符
`nG` `ngg` | 移动到 `n` 行，默认是最后一个行、第一行
`n%` | 移动到当前文档的百分之 `n` 的位置
`n/` | 当前行第 `n` 列
`%` | 在成对的括号之间移动
`nH` `nL` | 移动到距离窗口顶部/底部 n 行
`M` | 移动到窗口中间

## 插入替换操作

命令|作用
--|--
`i` `a`|
`I` `A`|
`gI`|在第一列插入
`o` `O`|在当前行下一行、上一行插入新行
`rc`|替换当前光标下字符为 `c`
`grc`| 不会影响布局
`R`|
`gR`|
`cm`| 基于移动 `m` 改变文本
`cc` 或 `S`|整行删除然后插入
`C`|删除光标到行尾，然后插入
`s`|改变光标下一个字符，然后插入
`~`|替换大小写
`g~m`| 转变大小写基于移动操作 `m`
`gum` `gUm`| 基于移动操作 `m` 变为小写、大写
`<m` `>m`|
`n<<` `n>>`| `n` 行左移、右移

## 删除操作

命令|作用
--|--
`x` `X`|
`dm`|
`dd` `D`|
`J` `gJ`|
`:rd 回车`|
`:rdx 回车`|

## 复制到系统剪切板

命令|作用
--|--
`"+y`|选中文本后输入
`:w !pbcopy`|选中文本后输入
`:%w !pbcopy`|复制整个文件

## 从系统剪切板中粘贴

命令|作用
--|--
`"+p`|在待粘贴位置输入
`:r !pbpaste`|在待粘贴位置输入

## 命令模式替换文本

```vim
:%s/line/Line/gc
```

选项|作用
--|--
`%`| 表示从第一行到最后一行，或 `1,5` 或 `1,$`
`c`| 表示替换需要执行确认按键
`y`| 执行替换
`n`| 跳过这个匹配
`a`| 对这个匹配及随后的匹配字符串执行替换
`q`| 或 `<esc>`退出替换操作
`l`| 执行这次最后的替换后退出，表示 `last`
`C-e` 或 `C-y`| 分别向下、向上滚动，用于查看替换的上下文

```vim
:1,10g/pattern/d
```

从第一行到第10行满足pattern的内容执行Ex命令d

## 大小写切换

命令|作用
--|--
`~`|切换字符大小写
`gu`|选中后切换成小写
`gU`|选中后切换成大写
`gJ`| 合并多行，不保留空格
`Ff`| 同一行向左找f
`ff`| 同一行向右找f

## 使用寄存器

命令|作用
--|--
`"a10yj`|往下复制10行到命名寄存器 a 中
`"a5p`|粘贴寄存器 a 的内容5遍
`:reg a`|显示寄存器a的内容
`:reg`|显示所有寄存器的内容
`qc`|把操作的输入记录到寄存器c上
`q`|停止记录
`@c`|执行寄存器c中记录的操作
`@@`|重复上一个@的命令
`:@a`|把寄存器a中的内容当做Ex命令执行

## Visual 模式

命令|作用
--|--
`v` `V` `C-v`|进入 visual 模式
`o`|在该模式下切换高亮的起始位置
`gv`|切换到上一次的高亮区域
`aw as ap`|选中一个词，一个句子，一个段落
`ab`|选中()的一个块
`aB`|选中{}的一个块

## 其他

命令|作用
--|--
`ga`|显示光标下的字符编码
`gf`|打开光标下的文件
`g<C-G>`|显示光标下的列、行位置信息
`<C-G>`|显示文件名及位置
`K`|查看光标下的关键字man信息
`<C-[>`|切换回normal模式

参考文档 [VIM QUICK REFERENCE CARD](http://tnerual.eriogerg.free.fr/vimqrc.html)
