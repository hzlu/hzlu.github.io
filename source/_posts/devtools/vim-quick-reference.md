---
title: Vim 使用技巧
category: devtools
tags: [vim]
---

### 打开内置教程

在终端输入以下命令：

```
$ vimtutor
```

### 复制到系统剪切板

- 选中文本后输入`"+y`
- 选中文本后输入`:w !pbcopy`
- 复制整个文件使用`:%w !pbcopy`

### 从系统剪切板中粘贴

- 在待粘贴位置输入`"+p`
- 在待粘贴位置输入`:r !pbpaste`

### 命令模式替换文本

```
:%s/line/Line/gc
```

- `%` 表示从第一行到最后一行，或 `1,5` 或 `1,$`
- `c` 表示替换需要执行确认按键
	- `y` 执行替换
	- `n` 跳过这个匹配
	- `a` 对这个匹配及随后的匹配字符串执行替换
	- `q` 或 `<esc>`退出替换操作
	- `l` 执行这次最后的替换后退出，表示 `last`
	- `C-e` 或 `C-y` 分别向下、向上滚动，用于查看替换的上下文

```
:1,10g/pattern/d
```

从第一行到第10行满足pattern的内容执行Ex命令d

### 大小写切换

- `~` 切换字符大小写
- `gu` 选中后切换成小写
- `gU` 选中后切换成大写

### 使用寄存器

- `"a10yj` 往下复制10行到命名寄存器 a 中
- `"a5p` 粘贴寄存器 a 的内容5遍
- `:reg a` 显示寄存器a的内容
- `:reg` 显示所有寄存器的内容
- `qc` 把操作的输入记录到寄存器c上
- `q` 停止记录
- `@c`执行寄存器c中记录的操作
- `@@`重复上一个@的命令
- `:@a`把寄存器a中的内容当做Ex命令执行

### 基本的移动操作

- `{` 移动到上一个段落开头
- `}` 移动到下一个段落开头
- `(` 移动到句子的开头
- `)` 移动到句子的结尾
- `gm` 移动到行中间
- `5%` 移动到文件5%的位置
- `5H` `5L` `M` 分别移动到窗口顶第5行，距离窗口底5行，窗口中部
- `Ff` 同一行向左找f
- `ff` 同一行向右找f

### 插入替换操作

- `cc 或 S` 整行删除然后插入
- `C` 删除光标到行尾，然后插入
- `s`改变光标下一个字符，然后插入
- `gJ` 合并多行，不保留空格

### visual模式操作

- `o`在该模式下切换高亮的起始位置
- `gv`切换到上一次的高亮区域
- `aw as ap` 选中一个词，一个句子，一个段落
- `ab` 选中()的一个块
- `aB` 选中{}的一个块


### 其他

- `ga` 显示光标下的字符编码
- `gf` 打开光标下的文件
- `g<C-G>`显示光标下的列、行位置信息
- `<C-G>`显示文件名及位置
- `K` 查看光标下的关键字man信息
- `<C-[>`切换回normal模式


