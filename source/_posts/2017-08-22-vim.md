---
title: Vim 备忘
tags:
  - vim
categories:
  - 命令行工具
date: 2017-08-22 11:26:30
---



记录我自己不熟悉的命令

## 基本移动操作

命令|作用
--|--
`{` `}` | 移动到上一个、下一个段落
`0` `gm` | 当前行的开头、结尾
`nG` `ngg` | 移动到 `n` 行，默认是最后一个行、第一行
`n%` | 移动到当前文档的百分之 `n` 的位置
`n/` | 当前行第 `n` 列
`Ff`| 同一行向左找字符f
`ff`| 同一行向右找字符f
`tf`| 移动到字符f出现的位置的前一个字符
`Tf`| 移动到上一个字符f出现的位置的后一个字符
`zz` | 移动屏幕使光标居中
`Ctrl` + `d` | 向前滚半屏幕
`Ctrl` + `u` | 向后滚半屏幕

## 多文件

命令|作用
--|--
ctrl + w + s | 水平分割窗口
ctrl + w + v | 垂直分割窗口
ctrl + w + h/j/k/l/w | 窗口切换
ctrl + w + q | 窗口关闭


## 插入替换操作

命令|作用
--|--
`ea`|从当前**单词**末尾开始插入
`cc` 或 `S`|整行删除然后插入
`C`|删除光标到行尾，然后插入
`s`|改变光标下一个字符，然后插入
`3<<`| 3行左移
`3>>`| 3行右移
`gI`|在第一列插入
`grc`| 不会影响布局
`R`|
`gR`|
`cm`| 基于移动 `m` 改变文本
`gum` `gUm`| 基于移动操作 `m` 变为小写、大写
`<m` `>m`|

## 删除操作

命令|作用
--|--
`dm`|
`J` `gJ`|
`:rd 回车`|
`:rdx 回车`|

## 复制到系统剪切板

命令|作用
--|--
`"+y`|选中文本后输入
`:w !pbcopy`|选中文本后输入
`:%w !pbcopy`|复制整个文件

## 从系统剪切板中粘贴

命令|作用
--|--
`"+p`|在待粘贴位置输入
`:r !pbpaste`|在待粘贴位置输入

## 命令模式替换文本

```vim
:%s/line/Line/gc
```

选项|作用
--|--
`%`| 表示从第一行到最后一行，或 `1,5` 或 `1,$`
`c`| 表示替换需要执行确认按键
`y`| 执行替换
`n`| 跳过这个匹配
`a`| 对这个匹配及随后的匹配字符串执行替换
`q`| 或 `<esc>`退出替换操作
`l`| 执行这次最后的替换后退出，表示 `last`
`C-e` 或 `C-y`| 分别向下、向上滚动，用于查看替换的上下文

```vim
:1,10g/pattern/d
```

从第一行到第10行满足pattern的内容执行Ex命令d

## 大小写切换

命令|作用
--|--
`gu`|选中后切换成小写
`gU`|选中后切换成大写
`gJ`| 合并多行，不保留空格

## 可视化模式

命令|作用
--|--
`o`| 切换光标到选择区开头/结尾
`gv`|切换到上一次的高亮区域
`aw as ap`|选中一个词，一个句子，一个段落
`ab`| 选择被()包裹的区域
`aB`| 选择被{}包裹的区域
`ib`| 选择被()包裹的区域，不含括号
`iB`| 选择被{}包裹的区域，不含括号

## 寄存器

命令|作用
--|--
`:reg`|显示所有寄存器的内容
`"a10yj`|往下复制10行到命名寄存器 a 中
`"a5p`|粘贴寄存器 a 的内容5遍
`:reg a`|显示寄存器a的内容

## 宏

命令|作用
--|--
`qa`| 录制宏a
`q`| 停止录制
`@a`| 执行宏a
`@@`| 重新执行上次执行的宏
`:@a`|把宏a当做Ex命令执行

## 其他

命令|作用
--|--
`ga`|显示光标下的字符编码
`gf`|打开光标下的文件
`g + ctrl + G`|显示光标下的列、行位置信息
`ctrl + G`|显示文件名及位置
`K`|查看光标下的关键字man信息
`ctrl + [`|切换回normal模式
`:w !sudo tee %` | 使用sudo保存当前文件


- 参考文档 [VIM QUICK REFERENCE CARD](http://tnerual.eriogerg.free.fr/vimqrc.html)
- 参考文档 [VIM Cheat Sheet](https://vim.rtorr.com/lang/zh_cn/)
